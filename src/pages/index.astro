---
import Layout from "../layouts/Layout.astro";
import WhyJoin from "../components/WhyJoin.astro";
import WhatWeDo from "../components/WhatWeDo.astro";
import { FaGithub, FaDiscord, FaMeetup } from "react-icons/fa";
import { useTranslations } from '../i18n/utils';
import LanguagePicker from '../components/LanguagePicker.astro';

const { lang = 'en' } = Astro.props;
const t = useTranslations(lang);

type ActivityContent =
	| {
			type: "paragraph";
			text: string;
	  }
	| {
			type: "list";
			intro?: string;
			items: string[];
	  };

type Activity = {
	title: string;
	content: ActivityContent[];
};

const benefits = [
	{
		title: t("home.benefit1.title"),
		description: t("home.benefit1.description")
	},
	{
		title: t("home.benefit2.title"),
		description: t("home.benefit2.description")
	},
	{
		title: t("home.benefit3.title"),
		description: t("home.benefit3.description")
	}
];

const activities: Activity[] = [
	{
		title: t("home.activity1.title"),
		content: [
			{
				type: "paragraph",
				text: t("home.activity1.content1")
			},
			{
				type: "paragraph",
				text: t("home.activity1.content2")
			},
			{
				type: "paragraph",
				text: t("home.activity1.content3")
			}
		]
	},
	{
		title: t("home.activity2.title"),
		content: [
			{
				type: "paragraph",
				text: t("home.activity2.content1")
			},
			{
				type: "paragraph",
				text: t("home.activity2.content2")
			},
			{
				type: "paragraph",
				text: t("home.activity2.content3")
			}
		]
	}
];
---

<Layout>
	<header class="relative isolate flex min-h-[70vh] items-center px-6 py-20 text-white sm:py-28 md:px-16">
		<div class="absolute inset-0 -z-10">
			<img
				src="https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=2000&q=80"
				alt=""
				loading="lazy"
				fetchpriority="high"
				decoding="async"
				class="h-full w-full object-cover"
			/>
			<div class="absolute inset-0 bg-black/40"></div>
		</div>
		<div class="mx-auto max-w-3xl text-center md:ml-[5%] md:text-left">
			<p class="text-xs font-semibold uppercase tracking-[0.3em] text-white/80">Kyoto Tech Meetup</p>
			<h1 class="mt-4 text-4xl font-semibold leading-tight text-white md:text-5xl">
				Connect, learn, and build together in Japan&apos;s cultural heart
			</h1>
			<p class="mt-4 text-lg text-white/90">
				Gatherings for developers, designers, researchers, and founders exploring technology in Kyoto.
			</p>
			<a
				class="mt-8 inline-flex items-center justify-center rounded-full bg-(--accent) px-6 py-3 text-base font-semibold text-white! shadow-xl shadow-black/30 transition hover:-translate-y-0.5 hover:bg-(--accent-dark) hover:text-white!"
				href="https://www.meetup.com/kyoto-tech-meetup/"
				target="_blank"
				rel="noreferrer"
			>
				Join the next meetup
			</a>
		</div>
		<LanguagePicker />
	</header>

	<main class="space-y-0">
		<section id="why-join" class="bg-white/95 px-6 py-16 md:px-12">
			<div class="mx-auto max-w-5xl">
				<p class="text-sm font-semibold uppercase tracking-[0.3em] text-slate-500">Why Join?</p>
				<h2 class="mt-3 text-3xl font-semibold text-slate-900">Small, intentional gatherings</h2>
				<WhyJoin items={benefits} />
			</div>
		</section>

		<section id="whats-happening" class="bg-white/70 px-6 py-16 md:px-12">
			<div class="mx-auto max-w-5xl">
				<p class="text-sm font-semibold uppercase tracking-[0.3em] text-slate-500">What's happening?</p>
				<h2 class="mt-3 text-3xl font-semibold text-slate-900">Two core sessions each month</h2>
				<WhatWeDo activities={activities} />
			</div>
		</section>

		<section id="who-comes" class="bg-white/95 px-6 py-16 md:px-12">
			<div class="mx-auto flex max-w-5xl flex-col gap-10 lg:flex-row">
				<div class="flex-1">
					<p class="text-sm font-semibold uppercase tracking-[0.3em] text-slate-500">Who Comes?</p>
					<h2 class="mt-3 text-3xl font-semibold text-slate-900">People who like to build in public</h2>
					<p class="mt-4 text-slate-600">You’ll probably like it here if you are:</p>
					<ul class="mt-6 list-disc space-y-3 pl-5 text-base leading-relaxed text-slate-600">
						<li>A software engineer or researcher working with web, AI, or creative tech</li>
						<li>A founder or early-stage startup person</li>
						<li>A designer, PM, or DX / DevRel person who likes talking product</li>
						<li>A grad student or visiting researcher looking for a local tech community</li>
						<li>A remote worker in Kyoto who misses nerding out with coworkers</li>
					</ul>
				</div>
				<div class="flex-1 space-y-4">
					<div class="rounded-2xl bg-white/90 p-6 shadow-lg shadow-stone-900/10 ring-1 ring-white/70">
						<h3 class="text-xl font-semibold text-slate-900">Languages</h3>
						<p class="mt-3 text-base leading-relaxed text-slate-600">
							The meetup is English-friendly with a natural mix of English and Japanese. Come as you are; we’ll make space.
						</p>
					</div>
					<div class="rounded-2xl bg-white/90 p-6 shadow-lg shadow-stone-900/10 ring-1 ring-white/70">
						<h3 class="text-xl font-semibold text-slate-900">Locations</h3>
						<p class="mt-3 text-base leading-relaxed text-slate-600">
							We meet at cafés and shared spaces in central Kyoto.
						</p>
						<p class="mt-2 text-base leading-relaxed text-slate-600">
							Exact time and place are in each event invite and reminder email.
						</p>
					</div>
				</div>
			</div>
		</section>
	</main>

	<footer class="bg-stone-950 px-6 py-12 text-slate-100 md:px-12">
		<div class="mx-auto flex max-w-5xl flex-col gap-6 md:flex-row md:items-center md:justify-between">
			<p class="text-sm text-slate-300">© {new Date().getFullYear()} Kyoto Tech Meetup. Crafted by volunteers in Kyoto.</p>
			<ul class="flex flex-wrap gap-4 text-sm font-medium text-slate-200">
				<li>
					<a
						class="flex items-center gap-2 transition hover:text-white"
						href="https://github.com/kyoto-tech"
						target="_blank"
						rel="noreferrer"
					>
						<FaGithub className="text-lg" /> GitHub
					</a>
				</li>
				<li>
					<a
						class="flex items-center gap-2 transition hover:text-white"
						href="https://discord.gg/mXFWEHDKeu"
						target="_blank"
						rel="noreferrer"
					>
						<FaDiscord className="text-lg" /> Discord
					</a>
				</li>
				<li>
					<a
						class="flex items-center gap-2 transition hover:text-white"
						href="https://www.meetup.com/kyoto-tech-meetup/"
						target="_blank"
						rel="noreferrer"
					>
						<FaMeetup className="text-lg" /> Meetup
					</a>
				</li>
			</ul>
		</div>
	</footer>
</Layout>
